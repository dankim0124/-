#contract
## 내용
-------
 - 네이버 뉴스의 URL 을 입력받아 같은 카테고리의 유사도가 가장 높은 뉴스 5개를 추천해줍니다.
 - 유사도 측정의 방법은 뉴스의 카테고리에 따라 코사인거리 혹은 TF-IDF 가중치를 이용합니다.
 - 일반적인 뉴스들을 요청이 들어오면 크롤링을 통해 해당 카테고리의 뉴스 중 코사인 유사도가 높은 결과를 리턴해 주고,
   평균적으로 조회수가 가장 높은 정치뉴스의 경우 코사인 유사도를 서버가 열릴 때 미리 계산해 두었다가 요청이 들어오면 결과를 바로 리턴해 줍니다. 
   
   
   
   
## 순서
-------
  - 서버가 열리면 해당 날짜를 기준으로, 네이버 랭킹 뉴스 페이지의 정치 카테고리에서 html 상의 li.ranking_list 항목을 읽어 최신 뉴스 중 조회수가 높은 탑 100개의 뉴스의 URL을 가져옵니다.
  - 가져온 URL의 뉴스 본문에서 각 단어의 수를 세고 TF-IDF 가중치를 계산해 아래와 같이 기록합니다.
     <img width="382" alt="tf-idf" src="https://user-images.githubusercontent.com/44887685/87622783-c8ec3d00-c75e-11ea-954c-35d20e653ce7.png">
  - post 된 URL이 정치 뉴스이면 미리 계산된 TF-IDF 가중치에 대해 코사인 거리를 이용하여 유사도를 측정하고, 가장 유사도가 높은 5개의 뉴스 URL link와 제목을 페이지에 표시합니다.
  - 정치뉴스가 아니라면 해당 카테고리의 랭킹 페이지에서 탑 100개의 뉴스의 단어 수에 대한 코사인 거리를 구하고, 유사도를 측정하여 결과를 리턴해줍니다.


## 구현 세부사항
----------------
  1) 서버 서버는 Node.js 의 express module 을 사용했고, view 는 html을 더 쉽게 쓸 수 있게 해주는 pug 를 사용했습니다. css는 visual studio의 sass watcher 익스텐션을 이용해 sass로 구현하고 실제로는 css가 반영이 되게 하였습니다. 배포는 하지 않아서,서버를 켜고 localhost:3000에 접속하시면 페이지가 보입니다. 
 
  2) 정규식 크롤링한 뉴스페이지를 단어 단위로 자르는 것, 인풋된 뉴스에 맞는 섹션의 랭크 뉴스 페이지의 url 제작은 모두 정규식으로 구현하였습니다. 
 
  3) 실행해보니 한 글자로 이루어진 단어, 예를들어,”왜”,  “이”, “그” ,”저” 등의 본문의 주제와는 연관없는 단어가 너무 많이 나와서 순위에 영향을 주는 경우가 있었기 때문에  단어를 세는 과정에서, 한 글자로 이루어진 단어는 제외하였습니다. 
 
  4) 각 뉴스당 한번만 언급된 단어도 제외했습니다. 저장해야할 단어 배열의 크기가 크게 증가해서, 시간이 많이 소요되는데 비해, 실행 시 결과는 거의 차이가 없었기 때문입니다
  
  
